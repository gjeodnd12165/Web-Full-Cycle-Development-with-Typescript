### 쿠버네티스 기본 사용법
- k8s 클러스터에 어떠한 것을 지시할 수 있는지 살펴본다
    - 포드의 생성과 컨테이너의 실행
    - 디플로이먼트를 이용하여 동일한 기능을 하는 포드의 레플리카셋을 실행
    - 클러스터 외부로부터의 접근이 가능하도록 서비스를 실행
    - 생성된 k8s오브젝트들을 삭제
- k8s 클러스터의 현재 상태를 조회하는 방법을 알아본다
- 오브젝트 스펙을 작성하는 기초를 익히고 실습해본다

#### 노드와 포드 정보를 조회
- 명령어
    - `kubectl get nodes`
    - `kubectl get pods`
- 어떤 정보를 파악할 수 있는지 알아보자
- 옵션 `-o wide`를 적용하여 무엇이 더 출력되는지 살펴보자

#### 컨테이너 이미지를 이용한 포드의 생성
- 명령어
    - `kubectl run <포드 이름> --image=<이미지 지정>`

#### 쿠버네티스 디플로이먼트
- Deployment
    - 응용의 배포를 위하여 많이 이용되는 k8s 의 오브젝트 형태
    - 동일한 모습의 포드들의 복제본 모음인 레플리카셋을 이용하는 것이 일반적
    - 단순한 레플리카셋에 비하여 동적 업데이트 및 롤백, 배포 버전의 관리 등이 유연하여 응용의 배포에 널리 이용됨
    - 보통은 상태가 없는 응용의 배포에 이용
        - (기억하자) 포드는 언제라도 사멸할 수 있음
- 동작 방식
    - 디플로이먼트의 상태를 선언하면 k8s가 동적으로 의도된 상태가 되도록 레플리카셋을 관리

#### 클러스터 바깥으로 응용을 노출해보자
- k8s 서비스
    - 클러스터 내부의 포드에 의하여 실행되는 응용을 외부에 접근 가능하도록 노출하는 기능을 하는 오브젝트
- 노출하는 대상
    - 특정 포드(또는 포드들의 집합)에서 실행하는 컨테이너의 특정 포트
- 서비스의 서로 다른 형태들
- ClusterIP
- NodePort
- LoadBalancer
- ExternalName

#### 매니페스트
- k8s 오브젝트에 대한 명세를 파일로 기록한 것
    - YAML 형태를 이용
- 파일에 각 오브젝트에 의도하는 상태를 기술
    -이것을 오브젝트 스펙 이라고 부름
- 이 파일을 이용하여
    - 오브젝트를 생성할 수 있고
    - (파일의 내용을 변경하여) 오브젝트의 상태를 변경할 수 있음
        - 물론, 파일의 내용을 변경하지 않고 다른 파일을 이용하여 오브젝트의 상태를 변경하는 것도 가능
- 자동화가 필요한 환경에서 (당연히) 명령어 라인에 일일이 입력하는 것보다 많이 이용됨

#### 매니페스트를 이용한 오브젝트 생성
- 명령어
    - `kubectl apply -f <매니페스트 파일>`
        - kubectl create -f 를 이용할 수도 있으나 위의 명령을 더 널리 이용함
        - (왜 그럴까?) 이후 실습에서 두 가지 방법을 모두 적용해 보고 생각해 볼 것
- 실습 과제
    - 앞에서 행했던 실험 (명령어 라인에 명령을 입력하여 했던 것들) 을 모두 매니페스트 파일들을 이용해서 반복
        - 디플로이먼트와 포드의 생성, 서비스 실행 확인, 접속 가능 확인 등
    - 그 후에는 kubectl delete ... 를 이용하여 오브젝트들을 삭제